(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{42:function(t,e,s){"use strict";s.d(e,"a",function(){return n});var r=s(1),i=s(5),a=s(9);s.d(e,"b",function(){return i.c}),s.d(e,"c",function(){return i.d});const n=Object(i.f)({baseURL:"https://conduit.productionready.io/api",cors:!0,headers:r.pureComputed(()=>a.a.loggedIn()?{Authorization:`Token ${a.a.token}`}:{})})},43:function(t,e,s){"use strict";s.d(e,"a",function(){return o});var r=s(1),i=s(5),a=s(42),n=s(9);class o extends(i.a.Mixin(Object(a.a)("profiles/:username")).Mixin(Object(a.b)("profile"))){constructor(){super(...arguments),this.following=r.observable(!1),this.paths={profile:`//profile/${this.params.username}`,favorites:`//profile/${this.params.username}/favorites`},this.isCurrentUser=r.pureComputed(()=>n.a.loggedIn()&&n.a.username()===this.username)}async toggleFollowing(){const t={params:{username:this.params.username}},e=this.following()?"delete":"post";await this.api[e]("follow",t),this.following.toggle()}}},44:function(t,e,s){"use strict";var r=s(1);r.observable.fn.increment=r.computed.fn.increment=function(t){!function(t,e){void 0===e&&(e=1);t(t()+e)}(this,t)},r.observable.fn.decrement=r.computed.fn.decrement=function(t){!function(t,e){void 0===e&&(e=1);t(t()-e)}(this,t)},r.observable.fn.toggle=r.computed.fn.toggle=function(){this(!this())};var i=s(5),a=s(42),n=s(43),o=s(9);s.d(e,"a",function(){return u}),s.d(e,"c",function(){return l}),s.d(e,"d",function(){return d}),s.d(e,"b",function(){return f});const c=10;class u extends(i.a.Mixin(Object(a.a)("articles/:slug?")).Mixin(Object(a.c)(m)).Mixin(Object(a.b)("article"))){constructor(){super(...arguments),this.favorited=ko.observable(!1),this.favoritesCount=ko.observable(0),this.paths={show:`//article/${this.params.slug}`,edit:`//editor/${this.params.slug}`}}async toggleFavorite(){const t={params:{slug:this.params.slug}},e=this.favorited()?"delete":"post";await this.api[e]("favorite",t),this.favorited.toggle(),this.favorited()?this.favoritesCount.increment():this.favoritesCount.decrement()}}class l extends u{constructor(){super(...arguments),this.title=ko.observable(""),this.description=ko.observable(""),this.body=ko.observable(""),this.tagList=ko.observableArray()}}class d extends l{constructor(){super({},{article:{author:o.a.toJS(),body:"",description:"",title:""}})}}class f extends(i.a.Mixin(Object(a.a)("articles/feed?")).Mixin(Object(a.c)(h)).Mixin(Object(i.b)("articles",p))){constructor(){super(...arguments),this.articles=ko.observableArray()}}async function h(t){const e=await Promise.all(t.articles.map(t=>u.create({slug:t.slug},{article:t})));return{...t,articles:e}}async function m(t){const e=await n.a.create({username:t.article.author.username},{profile:t.article.author});return{article:{...t.article,author:e}}}function p(t){return{limit:c,offset:c*(t-1)}}},65:function(t,e,s){"use strict";s.r(e);var r=s(5),i=s(44),a=s(43),n=s(9),o=s(42);class c extends(r.a.Mixin(Object(o.a)("articles/:articleSlug/comments/:id?")).Mixin(Object(o.c)(u))){}async function u(t){const e=await a.a.create({username:t.author.username},{profile:t.author});return{...t,author:e}}async function l(t,e){const s=await Promise.all(t.comments.map(t=>c.create({articleSlug:e.articleSlug,id:t.id},t)));return{...t,comments:s}}e.default=class extends r.e{constructor(t){super(),this.ctx=t,this.currentUser=n.a,this.article=new i.a({slug:this.ctx.params.slug}),this.comments=new class extends(r.a.Mixin(Object(o.a)("articles/:articleSlug/comments")).Mixin(Object(o.c)(l))){constructor(){super(...arguments),this.comments=ko.observableArray([])}async postComment({body:t}){const e=await c.create(this.params,{body:t,author:n.a.toJS()});await e.create()}}({articleSlug:this.ctx.params.slug})}}}}]);