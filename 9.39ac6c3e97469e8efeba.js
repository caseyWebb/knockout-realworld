(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{42:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var s=i(1),a=i(5),r=i(9);i.d(e,"b",function(){return a.c}),i.d(e,"c",function(){return a.d});const o=Object(a.f)({baseURL:"https://conduit.productionready.io/api",cors:!0,headers:s.pureComputed(()=>r.a.loggedIn()?{Authorization:`Token ${r.a.token}`}:{})})},43:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var s=i(1),a=i(5),r=i(42),o=i(9);class n extends(a.a.Mixin(Object(r.a)("profiles/:username")).Mixin(Object(r.b)("profile"))){constructor(){super(...arguments),this.following=s.observable(!1),this.paths={profile:`//profile/${this.params.username}`,favorites:`//profile/${this.params.username}/favorites`},this.isCurrentUser=s.pureComputed(()=>o.a.loggedIn()&&o.a.username()===this.username)}async toggleFollowing(){const t={params:{username:this.params.username}},e=this.following()?"delete":"post";await this.api[e]("follow",t),this.following.toggle()}}},44:function(t,e,i){"use strict";var s=i(1);s.observable.fn.increment=s.computed.fn.increment=function(t){!function(t,e){void 0===e&&(e=1);t(t()+e)}(this,t)},s.observable.fn.decrement=s.computed.fn.decrement=function(t){!function(t,e){void 0===e&&(e=1);t(t()-e)}(this,t)},s.observable.fn.toggle=s.computed.fn.toggle=function(){this(!this())};var a=i(5),r=i(42),o=i(43),n=i(9);i.d(e,"a",function(){return l}),i.d(e,"c",function(){return u}),i.d(e,"d",function(){return d}),i.d(e,"b",function(){return f});const c=10;class l extends(a.a.Mixin(Object(r.a)("articles/:slug?")).Mixin(Object(r.c)(h)).Mixin(Object(r.b)("article"))){constructor(){super(...arguments),this.favorited=ko.observable(!1),this.favoritesCount=ko.observable(0),this.paths={show:`//article/${this.params.slug}`,edit:`//editor/${this.params.slug}`}}async toggleFavorite(){const t={params:{slug:this.params.slug}},e=this.favorited()?"delete":"post";await this.api[e]("favorite",t),this.favorited.toggle(),this.favorited()?this.favoritesCount.increment():this.favoritesCount.decrement()}}class u extends l{constructor(){super(...arguments),this.title=ko.observable(""),this.description=ko.observable(""),this.body=ko.observable(""),this.tagList=ko.observableArray()}}class d extends u{constructor(){super({},{article:{author:n.a.toJS(),body:"",description:"",title:""}})}}class f extends(a.a.Mixin(Object(r.a)("articles/feed?")).Mixin(Object(r.c)(p)).Mixin(Object(a.b)("articles",b))){constructor(){super(...arguments),this.articles=ko.observableArray()}}async function p(t){const e=await Promise.all(t.articles.map(t=>l.create({slug:t.slug},{article:t})));return{...t,articles:e}}async function h(t){const e=await o.a.create({username:t.article.author.username},{profile:t.article.author});return{article:{...t.article,author:e}}}function b(t){return{limit:c,offset:c*(t-1)}}},58:function(t,e){t.exports='<div class=editor-page> <div class="container page"> <div class=row> <div class="col-md-10 offset-md-1 col-xs-12"> <form data-bind="event.submit: save"> <fieldset> <fieldset class=form-group> <input type=text class="form-control form-control-lg" placeholder="Article Title" data-bind="textInput: article.title"/> </fieldset> <fieldset class=form-group> <input type=text class=form-control placeholder="What\'s this article about?" data-bind="textInput: article.description"/> </fieldset> <fieldset class=form-group> <textarea class=form-control rows=8 placeholder="Write your article (in markdown)" data-bind="textInput: article.body"></textarea> </fieldset> <fieldset class=form-group> <input type=text class=form-control placeholder="Enter tags" data-bind="event.keydown: tagListKeydownHandler"/> <div class=tag-list> {{#foreach article.tagList}} <span class="tag-default tag-pill"> <i class=ion-close-round data-bind="click: $component.removeTag"></i> {{$data}} </span> {{/foreach}} </div> </fieldset> <button class="btn btn-lg pull-xs-right btn-primary" type=submit> Publish Article </button> </fieldset> </form> </div> </div> </div> </div>'},63:function(t,e,i){"use strict";i.r(e);var s=i(58),a=i.n(s),r=i(2),o=i(10),n=i(44);class c{constructor(t){this.isNew=!1,t.article?this.article=t.article:(this.isNew=!0,this.article=new n.d)}addTag(t){this.article.tagList.indexOf(t)<0&&this.article.tagList.push(t)}removeTag(t){this.article.tagList.remove(t)}tagListKeydownHandler(t,e){if([9,13,32,39,188].indexOf(e.keyCode)>-1){const t=e.target,i=t.value;if(i)return t.value="",this.addTag(i)}return!0}async save(){this.article.dispose();const[t,e]=this.isNew?["create","Article Posted!"]:["save","Article Saved!"],{article:{slug:i}}=await this.article[t]();r.b.update(`//article/${i}`,{with:{[o.a]:{type:"success",text:e}}})}}i.d(e,"template",function(){return a.a}),i.d(e,"viewModel",function(){return c})}}]);